# DO NOT EDIT - Managed by Puppet
#
# Bacula Director Client Configuration
#   for <%= fqdn %>
#   via <%= director_server -%>:director (<%= director_server -%>)

# Configure the Client which backups
Client {
  Name = "<%= clientname -%>:fd"
  Address = "<%= hostname %>"
  FDPort  = 9102
  Password = "<%= director_password %>"
  AutoPrune = yes
  Maximum Concurrent Jobs = 2
  Catalog = "<%= catalog %>"
}

<% @jobs.sort_by {|key, value| key}.each do |key,value| -%>
Job {
    Name = "<%= clientname -%>:<%=key-%>"
    <% @value.sort_by {|jobkey,jobvalue| jobkey}.each do |jobkey,jobvalue|-%>
      <%=jobkey-%>=<%=jobvalue%>
    <% end -%>
}
<% end -%>
